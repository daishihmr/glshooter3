{"version":3,"file":"glshooter3.min.js","sources":["../scripts/_pre.js","../scripts/_assets.js","../scripts/tm/asset/font.js","../scripts/tm/asset/threejson.js","../scripts/tm/hybrid/hybridapp.js","../scripts/tm/hybrid/hybridscene.js","../scripts/tm/hybrid/threeelement.js","../scripts/tm/hybrid/mesh.js","../scripts/tm/hybrid/camera.js","../scripts/main.js"],"names":["gls3","W","H","assets","titleFont","uiFont","numberFont","test","url","type","tm","define","superClass","init","path","key","this","superInit","testElement","dom","Element","create","style","set","format","text","before","element","offsetWidth","fontFaceStyleElement","checkLoadFont","remove","flare","console","debug","setTimeout","bind","asset","Loader","register","font","WebFont","mesh","ThreeJSON","loader","THREE","JSONLoader","load","geometry","materials","Mesh","MeshFaceMaterial","canvas","setupThree","background","threeRenderer","WebGLRenderer","antialias","parentNode","appendChild","domElement","threeCanvas","fitWindow","everFlag","_fitFunc","undefined","e","s","position","margin","left","top","bottom","right","rateWidth","width","window","innerWidth","rateHeight","height","innerHeight","rate","addEventListener","display","CanvasApp","prototype","call","_update","app","BaseApp","scene","currentScene","awake","hybrid","HybridScene","updater","update","three","camera","_draw","render","resize","w","h","setSize","aspect","Three","renderer","threeObject","Scene","Camera","z","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","normalize","addChild","child","parent","children","push","ThreeElement","event","Event","dispatchEvent","removeChild","index","indexOf","splice","accessor","get","v","x","y","scale","rotation","up","useQuaternion","quaternion","visible","lookAt","target","threeJSON","Manager","error","PerspectiveCamera","fov","main","HybridApp","prepend","fps","pushScene","ui","LoadingScene","nextScene","Main","run","fromJSON","tltleLabel","fontFamily","uiLabel","numberLabel","addChildTo","on","kb","keyboard","kd","getKeyDirection","mul","from","Quaternion","copy","to","step","slerp","m1","Matrix4","tweener","clear","setFromRotationMatrix","setLoop"],"mappings":"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"}